<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mi Perfil</title>

    <!-- Bootstrap CSS + Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
</head>

<body class="vh-100">
    <div class="container-fluid h-100">
        <div class="row h-100">

            <!-- Menú lateral -->
            <div class="col-3 bg-primary d-flex flex-column pt-4">

                <div class="mb-4">
                    <a href="../Inicio_Sesion/CitaMedica.html" class="btn btn-light text-primary fw-semibold">Volver</a>
                </div>

                <div class="text-center mb-4">
                    <img src="../Inicio_Sesion/imagenes/logo_Edus_Blanco.png" alt="Logo EDUS" width="300" />
                </div>

                <h5 class="text-white pt-4 text-center">Mi Perfil</h5>
                <ul class="list-unstyled px-2">
                    <li><a class="btn btn-light text-primary fw-semibold w-100 mb-3 text-center shadow-sm"
                            href="../Mi_Perfil/MiPerfil.Html">Mi Perfil</a></li>
                    <li><a class="btn btn-light text-primary fw-semibold w-100 mb-3 text-center shadow-sm"
                            href="../Mi_Perfil/NotificacionesConfigurables.html">Notificaciones Configurables</a></li>
                    <li><a class="btn btn-light text-primary fw-semibold w-100 mb-3 text-center shadow-sm"
                            href="../Mi_Perfil/PersonasACargo.html">Personas a Cargo</a></li>
                    <li><a class="btn btn-light text-primary fw-semibold w-100 mb-3 text-center shadow-sm"
                            href="../Mi_Perfil/SeguridadPrivacidad.html">Seguridad</a></li>
                </ul>

                <h5 class="text-white pt-4 text-center"></h5>
                <ul class="list-unstyled px-2">
                    <li><a class="btn btn-light text-primary fw-semibold w-100 mb-3 text-center shadow-sm"
                            href="../Inicio_Sesion/Inicio.html">Cerrar Sesion</a>
                    </li>
                </ul>
            </div>

            <!-- Contenido principal -->
            <div class="col-9 bg-light p-0 d-flex">
                <div class="container">
                    <h2 class="mb-4 pt-4 text-primary text-center">Mi Perfil</h2>
                    <div class="bg-white rounded-4 shadow p-4 mx-auto" style="max-width: 850px;">
                        <form class="needs-validation" novalidate>

                            <!-- Perfil general -->
                            <div class="card mb-4 border-0 shadow-sm rounded-4">
                                <div class="card-body d-flex align-items-center">
                                    <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" alt="perfil"
                                        class="rounded-circle me-4" width="80" height="80">
                                    <div>
                                        <h5 class="mb-1">Mariana Masis</h5>
                                        <p class="mb-0 text-muted">mariana@email.com</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Datos generales -->
                            <h5 class="text-primary mb-3">Datos generales</h5>
                            <div class="row g-3 mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">Tipo de Identificación</label>
                                    <select class="form-select">
                                        <option>Nacional</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Número Identificación</label>
                                    <input type="text" class="form-control" value="123456789" readonly>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Fecha de nacimiento</label>
                                    <input type="date" class="form-control" required>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Tipo de sangre</label>
                                    <select class="form-select">
                                        <option value="">Seleccione</option>
                                        <option>O+</option>
                                        <option>O-</option>
                                        <option>A+</option>
                                        <option>A-</option>
                                        <option>B+</option>
                                        <option>B-</option>
                                        <option>AB+</option>
                                        <option>AB-</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Datos de contacto -->
                            <h5 class="text-primary mb-3">Datos de contacto</h5>
                            <div class="row g-3 mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">Teléfono celular</label>
                                    <input type="tel" class="form-control">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Teléfono de habitación</label>
                                    <input type="tel" class="form-control">
                                </div>
                                <div class="col-12">
                                    <label class="form-label">Correo electrónico</label>
                                    <input type="email" class="form-control">
                                </div>
                            </div>

                            <!-- Dirección -->
                            <h5 class="text-primary mb-3">Dirección</h5>
                            <div class="row g-3 mb-3">
                                <div class="col-md-6">
                                    <label class="form-label">Provincia</label>
                                    <input type="text" class="form-control">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Cantón</label>
                                    <input type="text" class="form-control">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Distrito</label>
                                    <input type="text" class="form-control">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Establecimiento de salud</label>
                                    <input type="text" class="form-control">
                                </div>
                                <div class="col-12">
                                    <label class="form-label">Dirección exacta</label>
                                    <textarea class="form-control" rows="3"
                                        placeholder="Ingrese la dirección detallada"></textarea>
                                </div>
                            </div>

                            <!-- Información adicional -->
                            <h5 class="text-primary mb-3">Información adicional</h5>
                            <div class="row g-3 mb-4">
                                <div class="col-md-6">
                                    <label class="form-label">Ocupación</label>
                                    <input type="text" class="form-control">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Nivel educativo</label>
                                    <select class="form-select">
                                        <option value="">Seleccione</option>
                                        <option>Primaria</option>
                                        <option>Secundaria</option>
                                        <option>Técnico</option>
                                        <option>Universitario</option>
                                        <option>Otro</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Botones -->
                            <div class="row g-3 mb-3">
                                <div class="col-md-6 d-grid">
                                    <a class="btn btn-primary" href="../Inicio_Sesion/Inicio.html">Volver</button></a>  
                                </div>
                                <div class="col-md-6 d-grid">
                                    <button type="submit" class="btn btn-primary">Guardar</button>
                                </div>
                            </div>

                        </form>
                    </div>
                </div>
            </div>

            <!-- Bootstrap Bundle -->
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
        </div>
    </div>
</body>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const form = document.querySelector('.needs-validation');

        // Inactivar los dos primeros campos
        const tipoId = form.querySelector('select.form-select');
        const numId = form.querySelector('input[type="text"][readonly]');
        tipoId.disabled = true;
        numId.disabled = true;

        form.addEventListener('submit', function (event) {
            event.preventDefault();
            event.stopPropagation();

            let valid = true;

            // Fecha de nacimiento
            const birthDate = form.querySelector('input[type="date"]');
            if (!birthDate.value) {
                birthDate.classList.add('is-invalid');
                valid = false;
            } else {
                birthDate.classList.remove('is-invalid');
            }

            // Tipo de sangre
            const selects = form.querySelectorAll('select.form-select');
            const bloodType = selects[1]; // Segundo select del formulario
            if (!bloodType.value) {
                bloodType.classList.add('is-invalid');
                valid = false;
            } else {
                bloodType.classList.remove('is-invalid');
            }

            // Teléfonos
            const phoneInputs = form.querySelectorAll('input[type="tel"]');
            phoneInputs.forEach(input => {
                if (input.value && !/^\d{8}$/.test(input.value)) {
                    input.classList.add('is-invalid');
                    valid = false;
                } else {
                    input.classList.remove('is-invalid');
                }
            });

            // Correo electrónico
            const emailInput = form.querySelector('input[type="email"]');
            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailInput.value)) {
                emailInput.classList.add('is-invalid');
                valid = false;
            } else {
                emailInput.classList.remove('is-invalid');
            }

            // Campos de texto (excluyendo el número ID)
            const textInputs = form.querySelectorAll('input[type="text"]:not([readonly]):not([disabled])');
            textInputs.forEach(input => {
                if (!input.value.trim()) {
                    input.classList.add('is-invalid');
                    valid = false;
                } else {
                    input.classList.remove('is-invalid');
                }
            });

            // Dirección exacta
            const addressTextarea = form.querySelector('textarea');
            if (!addressTextarea.value.trim()) {
                addressTextarea.classList.add('is-invalid');
                valid = false;
            } else {
                addressTextarea.classList.remove('is-invalid');
            }

            // Nivel educativo (último select)
            const educationSelect = selects[2];
            if (!educationSelect.value) {
                educationSelect.classList.add('is-invalid');
                valid = false;
            } else {
                educationSelect.classList.remove('is-invalid');
            }

            if (valid) {
                alert('Formulario válido. Datos guardados correctamente.');
                form.classList.remove('was-validated');
                // form.submit(); // Puedes activarlo si lo necesitas
            } else {
                form.classList.add('was-validated');
            }
        });
    });
</script>

</html>